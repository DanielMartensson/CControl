/*
 ============================================================================
 Name        : imgaussfilt.c
 Author      : <Your Name Here>
 Version     : 1.0
 Copyright   : MIT
 Description : Gaussian filtering with 2D matrix
 ============================================================================
 */

#include "CControl/ccontrol.h"

#define row 10
#define column 10
#define sigma 0.8

int main() {
	clock_t start, end;
	float cpu_time_used;
	start = clock();

	
	/* Create X */
	float X[row * column] = { -1.050452,   0.414110,   0.149972,   0.994917, -0.209254,   0.589792,   0.584076, -0.083662,   0.177192, 0.246984,
							   1.509006, -1.333137, -1.660069,   0.681378, -1.053084, -1.337782,   0.225150, -0.268287,   0.832647, -0.104689,
							   0.109541,   0.434334,   0.268967, -1.115649, -1.887634,   1.789973, -0.129688, -0.426573,   0.265466, -1.561944,
							   0.081410,   0.803230, -0.014688,   0.350058, -0.246994,   1.392739, -0.210225, -0.348374,   0.280731, -1.255628,
							  -1.760850,   0.195185,   1.921482, -1.712214, -1.220659, -1.123662, -0.583558,   0.504691, -0.939355, 0.589897,
							  -0.971111,   0.685378, -1.280834,   0.718914, -0.988931,   0.805904,   0.540353, -0.224010,   1.270656, 0.569799,
							  -0.357689, -1.730907,   2.075645, -1.206756, -0.552441, -0.123188, -0.015025, -2.148288, -0.647478, -1.287194,
							   0.500089,   0.027562,   0.015011, -0.981528,   0.634455, -1.214154,   0.340079, -1.651628,   1.055575, -0.774350,
							   1.292942,   0.051219, -0.591766, -0.375308, -3.435261, -0.482075, -1.488143, -1.242304,   0.021370, 1.358115,
							   0.278103,   3.624124, -0.263088,   0.545802,   0.271732,   0.225901,   0.219443,   0.025991, -1.009268, 0.127537 };

	/* Do Gaussian filtering */
	imgaussfilt(X, sigma, row, column);

	/* Print */
	print(X, row, column);

	end = clock();
	cpu_time_used = ((float)(end - start)) / CLOCKS_PER_SEC;
	printf("\nTotal speed  was %f\n", cpu_time_used);

	return EXIT_SUCCESS;
}